<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>calculation functions</title>
	<meta http-equiv="Content-Script-Type" content="text/javascript">
	<meta http-equiv="Content-Style-Type" content="text/css">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel="stylesheet" type="text/css" href="../css/styles_standard.css">
	<link rel="stylesheet" type="text/css" href="../css/the_randomizer.css">
</head>
<body>

	<div id="topictop">&nbsp;</div>
	<div id="topictitleleft">
	<div id="topictitle">
		<h3>Calculation Functions</h3>
	</div>
	</div>
  
	<div id="main">
	<p>Below you can find a list of the custom calculation functions available for all grammar types. 
	For the standard functionality available please visit the NCalc website at </span><a href="https://ncalc.codeplex.com/" target="_blank">Codeplex</a><image src="../img/popout.gif" /></p>
	<br />
	<table>
		<tr>
			<th>Function</th>
			<th>Description</th>
		</tr>
		<tr>
			<td>Roll(Number, Die, [options])</td>
			<td>Rolls the type of die specified the number of times specified and returns the result. &nbsp;For more information on the options, please see the section on </span><a href="CalculationFunctions.html#DieRollOptions">Die Roll Options</a> below.</td>
		</tr>
		<tr>
			<td>TargetRoll(Number, Die, Target, [options])</td>
			<td>Rolls the type of die specified and compares each roll against the target returning the number of successes or failures. &nbsp;For more information about the options, please see the section on </span><a href="CalculationFunctions.html#DieRollOptions">Die Roll Options</a> below.</td>
		</tr>
		<tr>
			<td>RollResults([delimiter])</td>
			<td>Returns the full results of the last TargetRoll call delimited by the provided delimiter which is a space by default.</td>
		</tr>
		<tr>
			<td>RolledOnes()</td>
			<td>Returns the number of 1's rolled on the last TargetRoll call</td>
		</tr>
		<tr>
			<td>Rnd(Max)</td>
			<td>Returns a random integer between 1 and Max inclusively.</td>
		</tr>
		<tr>
			<td>Rnd(Min,Max)</td>
			<td>Returns a random integer between Min and Max inclusively.</td>
		</tr>
		<tr>
			<td>ToText(Number)</td>
			<td>Returns the text representation of the Number (ex: ToText(7) =&gt; seven)</td>
		</tr>
		<tr>
			<td>ToOrdinal(Number)</td>
			<td>Returns the ordinal version of the Number (ex: ToOrdinal(11) =&gt; 11th)</td>
		</tr>
		<tr>
			<td>UCase(String)</td>
			<td>Returns the string in all caps. (ex: UCase("orcs") =&gt; ORCS)</td>
		</tr>
		<tr>
			<td>LCase(String)</td>
			<td>Returns the string in all lower case. (ex: LCase("ORCS") =&gt; orcs)</td>
		</tr>
		<tr>
			<td>TCase(String)</td>
			<td>Returns the string with all words capitalized. (ex: PCase("john henry doe") =&gt; John Henry Doe)</td>
		</tr>
		<tr>
			<td>Format(Value, String)</td>
			<td>Returns the Value formatted using the String format. &nbsp;See Microsoft's documentation on the <a href="http://msdn.microsoft.com/en-us/library/microsoft.visualbasic.strings.format(v=vs.110).aspx" target="_blank">Format method</a> for more details. (ex: Format(10000,"#,##0") =&gt; 10,000)</td>
		</tr>
		<tr>
			<td>Generate(GrammarFileName or Path, [MaxLength])</td>
			<td>Executes the grammar with the file name of GrammarFileName.rnd.xml providing the optional maxLength. &nbsp;Does not currently support generators with parameters.</td>
		</tr>
		<tr>
			<td>Pick([ItemList])</td>
			<td>Returns a random item from the provided list.  Ex: Pick("Dog","Cow","Sheep") =&gt; Dog)</td>
		</tr>
	</table>
	<br />
	<a name="DieRollOptions">
	<p class="big">Roll Options</p>
	<p>The following strings can be added as parameters to the Roll method after the number and die parameters</p>
	<br />
	
	<p class="bold">Drop Lowest</p>
	<p><b>Command String:</b> 'DL'</p>
	<p>Drop the lowest die roll. This can be followed by a number to indicate the number of dice to drop.</p>
	<br />
	<p class="sub">Examples:</p>
	<pre><code>Roll(2,20,'DL') will roll 2 20-sided dice and drop the lowest roll as is done with Advantage in D&amp;D 5e
Roll(5,6,'DL',2) will roll 5 6-sided dice and drop the lowest 2 rolls</code></pre>
	<br />
	<p class="sub">Sample Results:</p>
	<pre><code>Die Results: 15, 10 Result: 15
Die Results: 3, 4, 1, 6, 5 Result: 15</code></pre>
	<br />
	
	<p class="bold">Drop Highest
	<p><b>Command String:</b> 'DH'</p>
	<p>Drop the highest die roll. This can be followed by a number to indicate the number of dice to drop.</p>
	<br />
	<p class="sub">Examples:</p>
	<pre><code>Roll(2,20,'DH') will roll 2 20-sided dice and drop the highest roll as is done with Disadvantage in D&amp;D 5e
Roll(5,10,'DH',4) will roll 5 10-sided dice and drop the highest 4 leaving only the lowest roll</code></pre>
	<br />
	<p class="sub">Sample Results:</p>
	<pre><code>Die Results: 15, 10 Result: 10
Die Results: 2, 5, 1, 9, 10 Result: 1</code></pre>
	<br />
	
	<p class="bold">Exploding Dice</p>
	<p><b>Command String:</b> 'EX'</p>
	<p>Exploding dice re-roll all maximum rolls and sums the results</p>
	<br />
	<p class="sub">Example:</p>
	<pre><code>Roll(4,10,'EX') will roll 4 10-sided dice and re-roll all 10's</code></pre>
	<br />
	<p class="sub">Sample Results:</p>
	<pre><code>Die Results: 4, 10, 3, 6 + 10 Result: 33</code></pre>
	<br />
	
	<p class="bold">Compound Exploding Dice</p>
	<p><b>Command String:</b> 'CX'</p>
	<p>Compound exploding dice re-rolls all maximum rolls until none remain and adds the results</p>
	<br />
	<p class="sub">Example:</p>
	<pre><code>Roll(4,10,'CX') will roll 4 10-sided dice and re-roll all 10's</code></pre>
	<br />
	<p class="sub">Sample Results:</p>
	<pre><code>Die Results: 8, 10, 2, 10 + 10, 8 + 10 + 3 Result: 61</code></pre>
	<br />
	
	<p class="bold">Re-roll Below</p>
	<p><b>Command String</b> 'RB'</p>
	<p>Re-roll below a given result</p>
	<br />
	<p class="sub">Example:</p>
	<pre><code>Roll(4,10,'RB',5) will roll 4 10-sided dice and re-roll all results under 5</code></pre>
	<br />
	<p class="sub">Sample Results:</p>
	<pre><code>Die Results: <span class="rvts21">3<span class="rvts18">, 10, 5, <span class="rvts21">2<span class="rvts18"> + 6, 8 Result: 29</code></pre>
	<br />
	
	<p class="bold">Over Target</p>
	<p><b>Command String</b> 'GT'</p>
	<p>Compare results to the target number provided looking for rolls greater than or equal to the target and return success or failure</p>
	<br />
	<p class="sub">Example:</p>
	<pre><code>Roll(3,10,'GT',6) will roll 3 10-sided dice and return success or failure depending on the number of rolls over 6 as is done in New World of Darkness games</code></pre>
	<br />
	<p class="sub">Sample Results:</p>
	<pre><code>Die Results: 1, 1, 6, 9, 10 Result: Success (3)</code></pre>
	<br />
	
	<p class="bold">Under Target</p>
	<p><b>Command String</b> 'LT'</p>
	<p>Compare results to the target number provided looking for rolls under the target and return success or failure</p>
	<br />
	<p class="sub">Example:</p>
	<pre><code>Roll(2,20,'LT',10) will roll 2 20-sided dice and return success or failure depending on the number of rolls under 10.</code></pre>
	<br />
	<p class="sub">Sample Results:</p>
	<pre><code>Die Results: 10, 15 Result: Failure (-2)</code></pre>
	<br />
	
	<p class="bold">Rule of Ones</p>
	<p><b>Command String</b> 'R1'</p>
	<p>For target rolls ('GT','LT') this enacts the rule of one where one's remove successes from the result</p>
	<br />
	<p class="sub">Example:</p>
	<pre><code>Roll(4,10,'GT',6,'R1') will roll 4 10-sided dice and remove successes equal to the number of one's rolled and return success or failure as is done in Old World of Darkness</code></pre>
	<br />
	<p class="sub">Sample Results:</p>
	<pre><code>Die Results: 1, 1, 10, 4 Result: Failure (-1)</code></pre>

  </div>
  <div id="foot">
    2014-2015 Lance Boudreaux
  </div>
</body>
</html>
